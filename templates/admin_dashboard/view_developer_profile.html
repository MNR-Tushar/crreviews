{% load static %}
{% block title %}View Developer Profile{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'style.css' %}">
<link rel="stylesheet" href="{% static 'admin_dashboard/admin_dashboard.css' %}">

<div class="dashboard-container1">
    <!-- Sidebar -->
    {% include 'admin_dashboard/sidebar.html' %}

    <main class="main-content1">
        <div class="top-bar1">
            <h1 class="page-title1">üë®‚Äçüíª Developer Profile</h1>
            <button class="btn1 btn-primary1" onclick="window.location.href='{% url 'admin_dashboard' %}'">
                <span>‚Üê Back to Dashboard</span>
            </button>
        </div>

        <div class="dashboard-card1" style="max-width: 1000px; margin: 2rem auto;">
            <!-- Header Section with Profile Picture -->
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                        padding: 3rem 2rem; border-radius: 12px 12px 0 0; text-align: center; position: relative;">
                <div style="position: absolute; top: 1rem; right: 1rem; display: flex; gap: 0.5rem;">
                    {% if developer.is_read %}
                        <span class="badge1 approved">Active</span>
                    {% else %}
                        <span class="badge1 rejected">Inactive</span>
                    {% endif %}
                </div>

                {% if developer.profile_picture %}
                    <img src="{{ developer.profile_picture.url }}" alt="{{ developer.name }}" 
                         style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; 
                                border: 5px solid rgba(255,255,255,0.3); margin-bottom: 1.5rem;">
                {% else %}
                    <div style="width: 150px; height: 150px; border-radius: 50%; 
                                background: rgba(255,255,255,0.2); display: flex; align-items: center; 
                                justify-content: center; margin: 0 auto 1.5rem; border: 5px solid rgba(255,255,255,0.3);
                                color: white; font-size: 4rem; font-weight: 700;">
                        {{ developer.name|first|upper }}
                    </div>
                {% endif %}

                <h2 style="color: white; font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">
                    {{ developer.name }}
                </h2>
                <p style="color: rgba(255,255,255,0.9); font-size: 1.2rem; margin-bottom: 1rem;">
                    {{ developer.degisnation|default:"Developer" }}
                </p>

                <!-- Quick Stats -->
                <div style="display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; flex-wrap: wrap;">
                    {% if developer.years_of_experience %}
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: white;">
                            {{ developer.years_of_experience }}
                        </div>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem;">
                            Years Experience
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if developer.projects_built %}
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: white;">
                            {{ developer.projects_built }}
                        </div>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem;">
                            Projects Built
                        </div>
                    </div>
                    {% endif %}

                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: white;">
                            {{ developer.tack_stack.count }}
                        </div>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem;">
                            Technologies
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Section -->
            <div style="padding: 2rem;">
                <!-- About Section -->
                {% if developer.about %}
                <div style="margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <h3 style="color: white; font-size: 1.3rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span>üìù</span> About
                    </h3>
                    <p style="color: rgba(255,255,255,0.8); line-height: 1.8; white-space: pre-wrap;">
                        {{ developer.about }}
                    </p>
                </div>
                {% endif %}

                <!-- Tech Stack Section -->
                <div style="margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <h3 style="color: white; font-size: 1.3rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span>‚ö°</span> Tech Stack
                    </h3>
                    {% if developer.tack_stack.all %}
                        <div style="display: flex; flex-wrap: wrap; gap: 0.75rem;">
                            {% for tech in developer.tack_stack.all %}
                            <span style="padding: 0.6rem 1.2rem; background: linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.2)); 
                                         border: 1px solid rgba(79, 172, 254, 0.4); border-radius: 8px; 
                                         color: #4FACFE; font-weight: 600; font-size: 0.95rem;">
                                {{ tech.title }}
                            </span>
                            {% endfor %}
                        </div>
                    {% else %}
                        <p style="color: rgba(255,255,255,0.6);">No technologies listed</p>
                    {% endif %}
                </div>

                <!-- Contact Information Section -->
                <div style="margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <h3 style="color: white; font-size: 1.3rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span>üìû</span> Contact Information
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        {% if developer.email %}
                        <div style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 0.3rem;">
                                Email
                            </div>
                            <a href="mailto:{{ developer.email }}" style="color: #4FACFE; text-decoration: none; word-break: break-all;">
                                {{ developer.email }}
                            </a>
                        </div>
                        {% endif %}

                        {% if developer.phone %}
                        <div style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 0.3rem;">
                                Phone
                            </div>
                            <a href="tel:{{ developer.phone }}" style="color: #4FACFE; text-decoration: none;">
                                {{ developer.phone }}
                            </a>
                        </div>
                        {% endif %}

                        {% if developer.location %}
                        <div style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 0.3rem;">
                                Location
                            </div>
                            <div style="color: white;">{{ developer.location }}</div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Social Media Links Section -->
                {% if developer.github_url or developer.linkedin_url or developer.facebook_url or developer.twitter_url %}
                <div style="margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <h3 style="color: white; font-size: 1.3rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span>üîó</span> Social Media
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        {% if developer.github_url %}
                        <a href="{{ developer.github_url }}" target="_blank" 
                           style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px; 
                                  text-decoration: none; display: flex; align-items: center; gap: 0.75rem;
                                  border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s;">
                            <span style="font-size: 1.5rem;">üîó</span>
                            <div>
                                <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem;">GitHub</div>
                                <div style="color: #4FACFE; font-size: 0.9rem;">View Profile</div>
                            </div>
                        </a>
                        {% endif %}

                        {% if developer.linkedin_url %}
                        <a href="{{ developer.linkedin_url }}" target="_blank" 
                           style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px; 
                                  text-decoration: none; display: flex; align-items: center; gap: 0.75rem;
                                  border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s;">
                            <span style="font-size: 1.5rem;">üíº</span>
                            <div>
                                <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem;">LinkedIn</div>
                                <div style="color: #4FACFE; font-size: 0.9rem;">View Profile</div>
                            </div>
                        </a>
                        {% endif %}

                        {% if developer.facebook_url %}
                        <a href="{{ developer.facebook_url }}" target="_blank" 
                           style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px; 
                                  text-decoration: none; display: flex; align-items: center; gap: 0.75rem;
                                  border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s;">
                            <span style="font-size: 1.5rem;">üìò</span>
                            <div>
                                <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem;">Facebook</div>
                                <div style="color: #4FACFE; font-size: 0.9rem;">View Profile</div>
                            </div>
                        </a>
                        {% endif %}

                        {% if developer.twitter_url %}
                        <a href="{{ developer.twitter_url }}" target="_blank" 
                           style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px; 
                                  text-decoration: none; display: flex; align-items: center; gap: 0.75rem;
                                  border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s;">
                            <span style="font-size: 1.5rem;">üê¶</span>
                            <div>
                                <div style="color: rgba(255,255,255,0.6); font-size: 0.85rem;">Twitter</div>
                                <div style="color: #4FACFE; font-size: 0.9rem;">View Profile</div>
                            </div>
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <!-- Metadata Section -->
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: white; font-size: 1.3rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span>üìä</span> Profile Information
                    </h3>
                    <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 8px;">
                        <div style="display: grid; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: rgba(255,255,255,0.6);">Profile Created:</span>
                                <span style="color: white;">{{ developer.created_at|date:"F d, Y" }} at {{ developer.created_at|time:"g:i A" }}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: rgba(255,255,255,0.6);">Profile ID:</span>
                                <span style="color: white;">#{{ developer.pk }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; gap: 1rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1); flex-wrap: wrap;">
                    <button class="btn1 btn-primary1" onclick="window.location.href='{% url 'edit_developer_profile' developer.pk %}'">
                        <span>‚úèÔ∏è</span><span>Edit Profile</span>
                    </button>
                    <button class="btn1" onclick="window.location.href='{% url 'admin_dashboard' %}'"
                            style="background: rgba(255,255,255,0.1);">
                        <span>‚Üê</span><span>Back to Dashboard</span>
                    </button>
                    <button class="btn1" 
                            onclick="if(confirm('Are you sure you want to delete this developer profile?')) window.location.href='{% url 'delete_developer_profile' developer.pk %}'"
                            style="background: linear-gradient(135deg, #FF6B6B, #FF4757); margin-left: auto;">
                        <span>üóëÔ∏è</span><span>Delete Profile</span>
                    </button>
                </div>
            </div>
        </div>
    </main>
</div>

{% if messages %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
    {% for message in messages %}
     showNotification("{{ message|escapejs }}", "{{ message.tags }}");
    {% endfor %}
    });
</script>
{% endif %}
<script src="{% static 'admin_dashboard/admin_dashboard.js' %}"></script>
<script src="{% static 'script.js' %}"></script>

<style>
a[href*="http"]:hover {
    transform: translateY(-2px);
    background: rgba(255,255,255,0.08) !important;
    border-color: rgba(79, 172, 254, 0.5) !important;
}
</style>

{% endblock content %}