{% extends 'base.html' %}
{% load static %}

{% block title %}Registration{% endblock title %}

{% block content %}
<div id="registration" class="page">
    <div class="container">
        <div style="max-width: 500px; margin: 3rem auto;">
            <div class="search-section">
                <h2 style="color: white; text-align: center; margin-bottom: 2rem; font-size: 2.3rem; font-weight: 600;">
                    Registration
                </h2>

                <form method='POST' action="{% url 'registration' %}">
                    {% csrf_token %}

                    <!-- Name Fields -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                        <input type="text" name="first_name" class="search-input" placeholder="üë§ First Name" required>
                        <input type="text" name="last_name" class="search-input" placeholder="üë§ Last Name" required>
                    </div>

                    <input type="email" name="email" class="search-input" placeholder="üìß Email" style="width: 100%; margin-bottom: 1.5rem;" required>
                    <input type="text" name="student_id" class="search-input" placeholder="üéì Student ID" style="width: 100%; margin-bottom: 1.5rem;" required>

                    <!-- University -->
                    <select name="university" class="search-input" style="width: 100%; margin-bottom: 1.5rem;" required>
                        <option selected disabled>üèõÔ∏è Select University</option>
                        {% for uni in universitys %}
                            <option value="{{ uni.id }}">{{ uni.title }}</option>
                        {% empty %}
                            <option disabled>No University Found</option>
                        {% endfor %}
                    </select>

                    <!-- Department -->
                    <select name="department" class="search-input" style="width: 100%; margin-bottom: 1.5rem;" required>
                        <option selected disabled>üéì Select Department</option>
                        {% for dept in departments %}
                            <option value="{{ dept.id }}">{{ dept.title }}</option>
                        {% empty %}
                            <option disabled>No Department Found</option>
                        {% endfor %}
                    </select>

                    <!-- Password -->
                    <input type="password" name="password" class="search-input" placeholder="üîí Password" style="width: 100%; margin-bottom: 1.5rem;" required>

                    <!-- Confirm Password -->
                    <input type="password" name="confirm_password" class="search-input" placeholder="üîí Confirm Password" style="width: 100%; margin-bottom: 1.5rem;" required>

                    <!-- Submit Button -->
                    <button type="submit" class="btn" style="width: 100%; margin-bottom: 1.5rem; font-size: 1.2rem;">
                        Register
                    </button>

                    <p style="color: white; text-align: center; font-size: 1.1rem;">
                        ‚úÖ Already have an account?
                        <a href="{% url 'login' %}" style="color: #ffeb3b; font-weight: 700; text-decoration: none;" data-page="login">
                            Login
                        </a>
                    </p>
                </form>

                <!-- Messages -->
                {% if messages %}
                    {% for message in messages %}
                        <p style="text-align:center;
                                  color:{% if message.tags == 'error' %}red{% else %}#00ff00{% endif %};
                                  font-weight:500;
                                  margin-top:10px;">
                            {{ message }}
                        </p>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock content %}
